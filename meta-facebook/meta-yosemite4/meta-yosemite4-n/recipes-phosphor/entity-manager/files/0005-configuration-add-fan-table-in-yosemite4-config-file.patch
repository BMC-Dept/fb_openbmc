From 952f17d9905bf70d5c13f8f2bd3856726d6013db Mon Sep 17 00:00:00 2001
From: RickyWu-wiwynn <ricky_cx_wu@wiwynn.com>
Date: Wed, 5 Jun 2024 18:45:34 +0800
Subject: [PATCH 2/2] configuration: add fan table in yosemite4 config files

Add patch from gerrit 71453/5.
https://gerrit.openbmc.org/c/openbmc/entity-manager/+/71453/5
---
 configurations/yosemite4-n.json            | 140 +++++++
 configurations/yosemite4_medusaboard.json  |  91 +++++
 configurations/yosemite4_sentineldome.json | 413 +++++++++++++++++++++
 configurations/yosemite4_spiderboard.json  |  20 +
 configurations/yosemite4_wailuafalls.json  | 208 +++++++++++
 5 files changed, 872 insertions(+)

diff --git a/configurations/yosemite4-n.json b/configurations/yosemite4-n.json
index d513bcb..807100f 100644
--- a/configurations/yosemite4-n.json
+++ b/configurations/yosemite4-n.json
@@ -367,6 +367,146 @@
             "in0_Name": "MGNT_P1V8_VOLT_V",
             "in0_Scale": 824.561
         },
+        {
+            "Class": "fan",
+            "FFGainCoefficient": 1.0,
+            "FFOffCoefficient": 0.0,
+            "ICoefficient": 0.0,
+            "ILimitMax": 0.0,
+            "ILimitMin": 0.0,
+            "Inputs": [
+                "FANBOARD0_FAN0_TACH_IL",
+                "FANBOARD0_FAN0_TACH_OL",
+                "FANBOARD0_FAN1_TACH_IL",
+                "FANBOARD0_FAN1_TACH_OL",
+                "FANBOARD1_FAN2_TACH_IL",
+                "FANBOARD1_FAN2_TACH_OL",
+                "FANBOARD1_FAN3_TACH_IL",
+                "FANBOARD1_FAN3_TACH_OL",
+                "FANBOARD0_FAN4_TACH_IL",
+                "FANBOARD0_FAN4_TACH_OL",
+                "FANBOARD0_FAN5_TACH_IL",
+                "FANBOARD0_FAN5_TACH_OL",
+                "FANBOARD1_FAN6_TACH_IL",
+                "FANBOARD1_FAN6_TACH_OL",
+                "FANBOARD1_FAN7_TACH_IL",
+                "FANBOARD1_FAN7_TACH_OL",
+                "FANBOARD0_FAN8_TACH_IL",
+                "FANBOARD0_FAN8_TACH_OL",
+                "FANBOARD0_FAN9_TACH_IL",
+                "FANBOARD0_FAN9_TACH_OL",
+                "FANBOARD1_FAN10_TACH_IL",
+                "FANBOARD1_FAN10_TACH_OL",
+                "FANBOARD1_FAN11_TACH_IL",
+                "FANBOARD1_FAN11_TACH_OL"
+            ],
+            "Name": "All Fan",
+            "OutLimitMax": 100.0,
+            "OutLimitMin": 0.0,
+            "Outputs": [
+                "FANBOARD0_FAN0_PWM",
+                "FANBOARD0_FAN0_PWM",
+                "FANBOARD0_FAN1_PWM",
+                "FANBOARD0_FAN1_PWM",
+                "FANBOARD1_FAN2_PWM",
+                "FANBOARD1_FAN2_PWM",
+                "FANBOARD1_FAN3_PWM",
+                "FANBOARD1_FAN3_PWM",
+                "FANBOARD0_FAN4_PWM",
+                "FANBOARD0_FAN4_PWM",
+                "FANBOARD0_FAN5_PWM",
+                "FANBOARD0_FAN5_PWM",
+                "FANBOARD1_FAN6_PWM",
+                "FANBOARD1_FAN6_PWM",
+                "FANBOARD1_FAN7_PWM",
+                "FANBOARD1_FAN7_PWM",
+                "FANBOARD0_FAN8_PWM",
+                "FANBOARD0_FAN8_PWM",
+                "FANBOARD0_FAN9_PWM",
+                "FANBOARD0_FAN9_PWM",
+                "FANBOARD1_FAN10_PWM",
+                "FANBOARD1_FAN10_PWM",
+                "FANBOARD1_FAN11_PWM",
+                "FANBOARD1_FAN11_PWM"
+            ],
+            "PCoefficient": 0.0,
+            "SlewNeg": 0.0,
+            "SlewPos": 0.0,
+            "Type": "Pid",
+            "Zones": [
+                "Zone 1"
+            ]
+        },
+        {
+            "CheckHysterWithSetpt": true,
+            "Class": "temp",
+            "DCoefficient": 0.0,
+            "FFGainCoefficient": 0.0,
+            "FFOffCoefficient": 0.0,
+            "ICoefficient": -0.035,
+            "ILimitMax": 100,
+            "ILimitMin": -50,
+            "Inputs": [
+                "NIC0_TEMP_C",
+                "NIC1_TEMP_C",
+                "NIC2_TEMP_C",
+                "NIC3_TEMP_C"
+            ],
+            "Name": "PID_NIC_TEMP",
+            "NegativeHysteresis": 3.0,
+            "OutLimitMax": 100,
+            "OutLimitMin": 0,
+            "PCoefficient": -3.0,
+            "PositiveHysteresis": 0.0,
+            "SetPoint": 90.0,
+            "SlewNeg": 0.0,
+            "SlewPos": 0.0,
+            "Type": "Pid",
+            "Zones": [
+                "Zone 1"
+            ]
+        },
+        {
+            "AccumulateSetPoint": true,
+            "CycleIntervalTimeMS": 1000,
+            "FailSafePercent": 100.0,
+            "MinThermalOutput": 0.0,
+            "Name": "Zone 1",
+            "Type": "Pid.Zone",
+            "UpdateThermalsTimeMS": 1000
+        },
+        {
+            "Class": "temp",
+            "Inputs": [
+                "NIC0_TEMP_C",
+                "NIC1_TEMP_C",
+                "NIC2_TEMP_C",
+                "NIC3_TEMP_C"
+            ],
+            "Name": "Stepwise_NIC_TEMP",
+            "NegativeHysteresis": 2,
+            "Output": [
+                20.0,
+                22.0,
+                24.0,
+                26.0,
+                28.0,
+                30.0
+            ],
+            "PositiveHysteresis": 0,
+            "Reading": [
+                80.0,
+                81.0,
+                82.0,
+                83.0,
+                84.0,
+                85.0
+            ],
+            "Type": "Stepwise",
+            "Zones": [
+                "Zone 1"
+            ]
+        },
         {
             "Address": "0x1f",
             "Bus": 24,
diff --git a/configurations/yosemite4_medusaboard.json b/configurations/yosemite4_medusaboard.json
index f7a817f..9a5cec8 100644
--- a/configurations/yosemite4_medusaboard.json
+++ b/configurations/yosemite4_medusaboard.json
@@ -1744,6 +1744,97 @@
             "vin_Name": "MEDUSA_12VEFFUSE_INPUT_VOLT_V",
             "vout1_Name": "MEDUSA_12VEFFUSE_OUTPUT_VOLT_V"
         },
+        {
+            "CheckHysterWithSetpt": true,
+            "Class": "temp",
+            "DCoefficient": 0.0,
+            "FFGainCoefficient": 0.0,
+            "FFOffCoefficient": 0.0,
+            "ICoefficient": -0.02,
+            "ILimitMax": 100,
+            "ILimitMin": -50,
+            "Inputs": [
+                "MEDUSA_12VDELTA0_TEMP_C",
+                "MEDUSA_12VDELTA1_TEMP_C",
+                "MEDUSA_12VDELTA2_TEMP_C",
+                "MEDUSA_12VDELTA3_TEMP_C"
+            ],
+            "Name": "PID_MEDUSA_12VDELTA",
+            "NegativeHysteresis": 3.0,
+            "OutLimitMax": 100,
+            "OutLimitMin": 0,
+            "PCoefficient": -3.0,
+            "PositiveHysteresis": 0.0,
+            "SetPoint": 90.0,
+            "SlewNeg": 0.0,
+            "SlewPos": 0.0,
+            "Type": "Pid",
+            "Zones": [
+                "Zone 1"
+            ]
+        },
+        {
+            "Class": "temp",
+            "Inputs": [
+                "MEDUSA_48VHSC0_TEMP_C",
+                "MEDUSA_48VHSC1_TEMP_C",
+                "MEDUSA_MB1_12VHSC_TEMP_C",
+                "MEDUSA_MB2_12VHSC_TEMP_C",
+                "MEDUSA_MB3_12VHSC_TEMP_C",
+                "MEDUSA_MB4_12VHSC_TEMP_C",
+                "MEDUSA_MB5_12VHSC_TEMP_C",
+                "MEDUSA_MB6_12VHSC_TEMP_C",
+                "MEDUSA_MB7_12VHSC_TEMP_C",
+                "MEDUSA_MB8_12VHSC_TEMP_C",
+                "MEDUSA_TEMP0_C",
+                "MEDUSA_TEMP1_C"
+            ],
+            "Name": "Stepwise_MEDUSA_Non_Critical_Sensors",
+            "NegativeHysteresis": 0,
+            "Output": [
+                20.0
+            ],
+            "PositiveHysteresis": 0,
+            "Reading": [
+                20.0
+            ],
+            "Type": "Stepwise",
+            "Zones": [
+                "Zone 1"
+            ]
+        },
+        {
+            "Class": "temp",
+            "Inputs": [
+                "MEDUSA_12VDELTA0_TEMP_C",
+                "MEDUSA_12VDELTA1_TEMP_C",
+                "MEDUSA_12VDELTA2_TEMP_C",
+                "MEDUSA_12VDELTA3_TEMP_C"
+            ],
+            "Name": "Stepwise_MEDUSA_12VDELTA",
+            "NegativeHysteresis": 3,
+            "Output": [
+                20.0,
+                22.0,
+                24.0,
+                26.0,
+                28.0,
+                30.0
+            ],
+            "PositiveHysteresis": 0,
+            "Reading": [
+                80.0,
+                81.0,
+                82.0,
+                83.0,
+                84.0,
+                85.0
+            ],
+            "Type": "Stepwise",
+            "Zones": [
+                "Zone 1"
+            ]
+        },
         {
             "Address": "0x48",
             "Bus": 11,
diff --git a/configurations/yosemite4_sentineldome.json b/configurations/yosemite4_sentineldome.json
index 4d71cb9..c55e476 100644
--- a/configurations/yosemite4_sentineldome.json
+++ b/configurations/yosemite4_sentineldome.json
@@ -6,6 +6,419 @@
             "EndpointId": "$bus % 15 * 10",
             "Name": "BIC",
             "Type": "MCTPEndpoint"
+        },
+        {
+            "CheckHysterWithSetpt": true,
+            "Class": "temp",
+            "DCoefficient": 0.0,
+            "FFGainCoefficient": 0.0,
+            "FFOffCoefficient": 0.0,
+            "ICoefficient": -0.035,
+            "ILimitMax": 100,
+            "ILimitMin": -50,
+            "InputUnavailableAsFailed": false,
+            "Inputs": [
+                "MB_DIMM_A_TEMP_C_5 $bus % 15 * 10",
+                "MB_DIMM_B_TEMP_C_6 $bus % 15 * 10",
+                "MB_DIMM_C_TEMP_C_7 $bus % 15 * 10",
+                "MB_DIMM_D_TEMP_C_8 $bus % 15 * 10",
+                "MB_DIMM_E_TEMP_C_9 $bus % 15 * 10",
+                "MB_DIMM_F_TEMP_C_10 $bus % 15 * 10",
+                "MB_DIMM_G_TEMP_C_11 $bus % 15 * 10",
+                "MB_DIMM_H_TEMP_C_12 $bus % 15 * 10",
+                "MB_DIMM_I_TEMP_C_13 $bus % 15 * 10",
+                "MB_DIMM_J_TEMP_C_14 $bus % 15 * 10",
+                "MB_DIMM_K_TEMP_C_15 $bus % 15 * 10",
+                "MB_DIMM_L_TEMP_C_16 $bus % 15 * 10"
+            ],
+            "Name": "PID_MB_DIMM $bus % 15 * 10",
+            "NegativeHysteresis": 2.0,
+            "OutLimitMax": 100,
+            "OutLimitMin": 0,
+            "PCoefficient": -3.0,
+            "PositiveHysteresis": 0.0,
+            "SetPoint": 75.0,
+            "SlewNeg": 0.0,
+            "SlewPos": 0.0,
+            "Type": "Pid",
+            "Zones": [
+                "Zone 1"
+            ]
+        },
+        {
+            "CheckHysterWithSetpt": true,
+            "Class": "temp",
+            "DCoefficient": 0.0,
+            "FFGainCoefficient": 0.0,
+            "FFOffCoefficient": 0.0,
+            "ICoefficient": -0.035,
+            "ILimitMax": 100,
+            "ILimitMin": -50,
+            "Inputs": [
+                "MB_CPU_TEMP_C_4 $bus % 15 * 10"
+            ],
+            "Name": "PID_MB_CPU $bus % 15 * 10",
+            "NegativeHysteresis": 3.0,
+            "OutLimitMax": 100,
+            "OutLimitMin": 0,
+            "PCoefficient": -5.5,
+            "PositiveHysteresis": 0.0,
+            "SetPoint": 74.0,
+            "SlewNeg": 0.0,
+            "SlewPos": 0.0,
+            "Type": "Pid",
+            "Zones": [
+                "Zone 1"
+            ]
+        },
+        {
+            "CheckHysterWithSetpt": true,
+            "Class": "temp",
+            "DCoefficient": 0.0,
+            "FFGainCoefficient": 0.0,
+            "FFOffCoefficient": 0.0,
+            "ICoefficient": -0.02,
+            "ILimitMax": 100,
+            "ILimitMin": -50,
+            "Inputs": [
+                "MB_SSD_BOOT_TEMP_C_17 $bus % 15 * 10"
+            ],
+            "Name": "PID_MB_SSD_BOOT $bus % 15 * 10",
+            "NegativeHysteresis": 2.0,
+            "OutLimitMax": 100,
+            "OutLimitMin": 0,
+            "PCoefficient": -1.5,
+            "PositiveHysteresis": 0.0,
+            "SetPoint": 68.0,
+            "SlewNeg": 0.0,
+            "SlewPos": 0.0,
+            "Type": "Pid",
+            "Zones": [
+                "Zone 1"
+            ]
+        },
+        {
+            "CheckHysterWithSetpt": true,
+            "Class": "temp",
+            "DCoefficient": 0.0,
+            "FFGainCoefficient": 0.0,
+            "FFOffCoefficient": 0.0,
+            "ICoefficient": -0.02,
+            "ILimitMax": 100,
+            "ILimitMin": -50,
+            "InputUnavailableAsFailed": false,
+            "Inputs": [
+                "MB_SSD_DATA_TEMP_C_18 $bus % 15 * 10"
+            ],
+            "Name": "PID_MB_SSD_DATA $bus % 15 * 10",
+            "NegativeHysteresis": 2.0,
+            "OutLimitMax": 100,
+            "OutLimitMin": 0,
+            "PCoefficient": -1.5,
+            "PositiveHysteresis": 0.0,
+            "SetPoint": 68.0,
+            "SlewNeg": 0.0,
+            "SlewPos": 0.0,
+            "Type": "Pid",
+            "Zones": [
+                "Zone 1"
+            ]
+        },
+        {
+            "CheckHysterWithSetpt": true,
+            "Class": "temp",
+            "DCoefficient": 0.0,
+            "FFGainCoefficient": 0.0,
+            "FFOffCoefficient": 0.0,
+            "ICoefficient": -0.02,
+            "ILimitMax": 100,
+            "ILimitMin": -50,
+            "Inputs": [
+                "MB_VR_CPU0_TEMP_C_19 $bus % 15 * 10",
+                "MB_VR_SOC_TEMP_C_20 $bus % 15 * 10",
+                "MB_VR_CPU1_TEMP_C_21 $bus % 15 * 10",
+                "MB_VR_PVDDIO_TEMP_C_22 $bus % 15 * 10",
+                "MB_VR_PVDD11_TEMP_C_23 $bus % 15 * 10"
+            ],
+            "Name": "PID_SD_VR $bus % 15 * 10",
+            "NegativeHysteresis": 3.0,
+            "OutLimitMax": 100,
+            "OutLimitMin": 0,
+            "PCoefficient": -3.0,
+            "PositiveHysteresis": 0.0,
+            "SetPoint": 90.0,
+            "SlewNeg": 0.0,
+            "SlewPos": 0.0,
+            "Type": "Pid",
+            "Zones": [
+                "Zone 1"
+            ]
+        },
+        {
+            "Class": "temp",
+            "Inputs": [
+                "MB_INLET_TEMP_C_1 $bus % 15 * 10",
+                "MB_OUTLET_TEMP_C_2 $bus % 15 * 10"
+            ],
+            "Name": "Stepwise_MB_INLET_OUTLET_TEMP $bus % 15 * 10",
+            "NegativeHysteresis": 0,
+            "Output": [
+                20.0
+            ],
+            "PositiveHysteresis": 0,
+            "Reading": [
+                20.0
+            ],
+            "Type": "Stepwise",
+            "Zones": [
+                "Zone 1"
+            ]
+        },
+        {
+            "Class": "temp",
+            "InputUnavailableAsFailed": false,
+            "Inputs": [
+                "MB_X8_RETIMER_TEMP_C_24 $bus % 15 * 10",
+                "MB_X16_RETIMER_TEMP_C_25 $bus % 15 * 10"
+            ],
+            "Name": "Stepwise_MB_RETIMER_TEMP $bus % 15 * 10",
+            "NegativeHysteresis": 0,
+            "Output": [
+                20.0
+            ],
+            "PositiveHysteresis": 0,
+            "Reading": [
+                20.0
+            ],
+            "Type": "Stepwise",
+            "Zones": [
+                "Zone 1"
+            ]
+        },
+        {
+            "Class": "temp",
+            "Inputs": [
+                "Calibrated_MB_FIO_TEMP_C_3 $bus % 15 * 10"
+            ],
+            "Name": "Stepwise_MB_FIO $bus % 15 * 10",
+            "NegativeHysteresis": 2,
+            "Output": [
+                20.0,
+                21.0,
+                22.0,
+                23.0,
+                24.0,
+                25.0,
+                26.0,
+                27.0,
+                28.0,
+                29.0,
+                30.0,
+                31.0,
+                31.0,
+                33.0,
+                35.0,
+                37.0,
+                38.0,
+                39.0,
+                40.0,
+                41.0
+            ],
+            "PositiveHysteresis": 0,
+            "Reading": [
+                20.0,
+                21.0,
+                22.0,
+                23.0,
+                24.0,
+                25.0,
+                26.0,
+                27.0,
+                28.0,
+                29.0,
+                30.0,
+                31.0,
+                32.0,
+                33.0,
+                34.0,
+                35.0,
+                36.0,
+                37.0,
+                38.0,
+                39.0
+            ],
+            "Type": "Stepwise",
+            "Zones": [
+                "Zone 1"
+            ]
+        },
+        {
+            "Class": "temp",
+            "InputUnavailableAsFailed": false,
+            "Inputs": [
+                "MB_DIMM_A_TEMP_C_5 $bus % 15 * 10",
+                "MB_DIMM_B_TEMP_C_6 $bus % 15 * 10",
+                "MB_DIMM_C_TEMP_C_7 $bus % 15 * 10",
+                "MB_DIMM_D_TEMP_C_8 $bus % 15 * 10",
+                "MB_DIMM_E_TEMP_C_9 $bus % 15 * 10",
+                "MB_DIMM_F_TEMP_C_10 $bus % 15 * 10",
+                "MB_DIMM_G_TEMP_C_11 $bus % 15 * 10",
+                "MB_DIMM_H_TEMP_C_12 $bus % 15 * 10",
+                "MB_DIMM_I_TEMP_C_13 $bus % 15 * 10",
+                "MB_DIMM_J_TEMP_C_14 $bus % 15 * 10",
+                "MB_DIMM_K_TEMP_C_15 $bus % 15 * 10",
+                "MB_DIMM_L_TEMP_C_16 $bus % 15 * 10"
+            ],
+            "Name": "Stepwise_MB_DIMM $bus % 15 * 10",
+            "NegativeHysteresis": 2,
+            "Output": [
+                20.0,
+                22.0,
+                24.0,
+                26.0,
+                28.0,
+                30.0
+            ],
+            "PositiveHysteresis": 0,
+            "Reading": [
+                65.0,
+                66.0,
+                67.0,
+                68.0,
+                69.0,
+                70.0
+            ],
+            "Type": "Stepwise",
+            "Zones": [
+                "Zone 1"
+            ]
+        },
+        {
+            "Class": "temp",
+            "Inputs": [
+                "MB_CPU_TEMP_C_4 $bus % 15 * 10"
+            ],
+            "Name": "Stepwise_MB_CPU $bus % 15 * 10",
+            "NegativeHysteresis": 3,
+            "Output": [
+                20.0,
+                25.0,
+                30.0,
+                35.0,
+                40.0,
+                45.0,
+                50.0,
+                55.0,
+                60.0
+            ],
+            "PositiveHysteresis": 0,
+            "Reading": [
+                66.0,
+                67.0,
+                68.0,
+                69.0,
+                70.0,
+                71.0,
+                72.0,
+                73.0,
+                74.0
+            ],
+            "Type": "Stepwise",
+            "Zones": [
+                "Zone 1"
+            ]
+        },
+        {
+            "Class": "temp",
+            "Inputs": [
+                "MB_SSD_BOOT_TEMP_C_17 $bus % 15 * 10"
+            ],
+            "Name": "Stepwise_MB_SSD_BOOT $bus % 15 * 10",
+            "NegativeHysteresis": 2,
+            "Output": [
+                20.0,
+                22.0,
+                24.0,
+                26.0,
+                28.0,
+                30.0
+            ],
+            "PositiveHysteresis": 0,
+            "Reading": [
+                58.0,
+                59.0,
+                60.0,
+                61.0,
+                62.0,
+                63.0
+            ],
+            "Type": "Stepwise",
+            "Zones": [
+                "Zone 1"
+            ]
+        },
+        {
+            "Class": "temp",
+            "InputUnavailableAsFailed": false,
+            "Inputs": [
+                "MB_SSD_DATA_TEMP_C_18 $bus % 15 * 10"
+            ],
+            "Name": "Stepwise_MB_SSD_DATA $bus % 15 * 10",
+            "NegativeHysteresis": 2,
+            "Output": [
+                20.0,
+                22.0,
+                24.0,
+                26.0,
+                28.0,
+                30.0
+            ],
+            "PositiveHysteresis": 0,
+            "Reading": [
+                58.0,
+                59.0,
+                60.0,
+                61.0,
+                62.0,
+                63.0
+            ],
+            "Type": "Stepwise",
+            "Zones": [
+                "Zone 1"
+            ]
+        },
+        {
+            "Class": "temp",
+            "Inputs": [
+                "MB_VR_CPU0_TEMP_C_19 $bus % 15 * 10",
+                "MB_VR_SOC_TEMP_C_20 $bus % 15 * 10",
+                "MB_VR_CPU1_TEMP_C_21 $bus % 15 * 10",
+                "MB_VR_PVDDIO_TEMP_C_22 $bus % 15 * 10",
+                "MB_VR_PVDD11_TEMP_C_23 $bus % 15 * 10"
+            ],
+            "Name": "Stepwise_SD_VR $bus % 15 * 10",
+            "NegativeHysteresis": 3,
+            "Output": [
+                20.0,
+                22.0,
+                24.0,
+                26.0,
+                28.0,
+                30.0
+            ],
+            "PositiveHysteresis": 0,
+            "Reading": [
+                80.0,
+                81.0,
+                82.0,
+                83.0,
+                84.0,
+                85.0
+            ],
+            "Type": "Stepwise",
+            "Zones": [
+                "Zone 1"
+            ]
         }
     ],
     "Name": "Yosemite 4 Sentinel Dome Slot $bus % 15",
diff --git a/configurations/yosemite4_spiderboard.json b/configurations/yosemite4_spiderboard.json
index 203b8fc..d31e0ed 100644
--- a/configurations/yosemite4_spiderboard.json
+++ b/configurations/yosemite4_spiderboard.json
@@ -980,6 +980,26 @@
             "pout1_Name": "SPIDER_INA233_12V_NIC3_PWR_W",
             "vout1_Name": "SPIDER_INA233_12V_NIC3_VOLT_V"
         },
+        {
+            "Class": "temp",
+            "Inputs": [
+                "SPIDER_TEMP0_C",
+                "SPIDER_TEMP1_C"
+            ],
+            "Name": "Stepwise_SPIDER_TEMP",
+            "NegativeHysteresis": 0,
+            "Output": [
+                20.0
+            ],
+            "PositiveHysteresis": 0,
+            "Reading": [
+                20.0
+            ],
+            "Type": "Stepwise",
+            "Zones": [
+                "Zone 1"
+            ]
+        },
         {
             "Address": "0x4e",
             "Bus": 14,
diff --git a/configurations/yosemite4_wailuafalls.json b/configurations/yosemite4_wailuafalls.json
index b897ff2..d7aa632 100644
--- a/configurations/yosemite4_wailuafalls.json
+++ b/configurations/yosemite4_wailuafalls.json
@@ -20,6 +20,214 @@
             "EndpointId": "$bus % 15 * 10 + 5",
             "Name": "CXL2",
             "Type": "MCTPEndpoint"
+        },
+        {
+            "CheckHysterWithSetpt": true,
+            "Class": "temp",
+            "DCoefficient": 0.0,
+            "FFGainCoefficient": 0.0,
+            "FFOffCoefficient": 0.0,
+            "ICoefficient": -0.035,
+            "ILimitMax": 100,
+            "ILimitMin": -50,
+            "Inputs": [
+                "WF_ASIC1_DIMM_A_TEMP_C_12 $bus % 15 * 10 + 2",
+                "WF_ASIC1_DIMM_B_TEMP_C_13 $bus % 15 * 10 + 2",
+                "WF_ASIC1_DIMM_C_TEMP_C_14 $bus % 15 * 10 + 2",
+                "WF_ASIC1_DIMM_D_TEMP_C_15 $bus % 15 * 10 + 2",
+                "WF_ASIC2_DIMM_A_TEMP_C_16 $bus % 15 * 10 + 2",
+                "WF_ASIC2_DIMM_B_TEMP_C_17 $bus % 15 * 10 + 2",
+                "WF_ASIC2_DIMM_C_TEMP_C_18 $bus % 15 * 10 + 2",
+                "WF_ASIC2_DIMM_D_TEMP_C_19 $bus % 15 * 10 + 2"
+            ],
+            "Name": "PID_WF_DIMM $bus % 15 * 10 + 2",
+            "NegativeHysteresis": 2.0,
+            "OutLimitMax": 100,
+            "OutLimitMin": 0,
+            "PCoefficient": -3.0,
+            "PositiveHysteresis": 0.0,
+            "SetPoint": 75.0,
+            "SlewNeg": 0.0,
+            "SlewPos": 0.0,
+            "Type": "Pid",
+            "Zones": [
+                "Zone 1"
+            ]
+        },
+        {
+            "CheckHysterWithSetpt": true,
+            "Class": "temp",
+            "DCoefficient": 0.0,
+            "FFGainCoefficient": 0.0,
+            "FFOffCoefficient": 0.0,
+            "ICoefficient": -0.02,
+            "ILimitMax": 100,
+            "ILimitMin": -50,
+            "Inputs": [
+                "WF_E1S_TEMP_C_20 $bus % 15 * 10 + 2"
+            ],
+            "Name": "PID_WF_E1S $bus % 15 * 10 + 2",
+            "NegativeHysteresis": 2.0,
+            "OutLimitMax": 100,
+            "OutLimitMin": 0,
+            "PCoefficient": -1.5,
+            "PositiveHysteresis": 0.0,
+            "SetPoint": 68.0,
+            "SlewNeg": 0.0,
+            "SlewPos": 0.0,
+            "Type": "Pid",
+            "Zones": [
+                "Zone 1"
+            ]
+        },
+        {
+            "CheckHysterWithSetpt": true,
+            "Class": "temp",
+            "DCoefficient": 0.0,
+            "FFGainCoefficient": 0.0,
+            "FFOffCoefficient": 0.0,
+            "ICoefficient": -0.02,
+            "ILimitMax": 100,
+            "ILimitMin": -50,
+            "Inputs": [
+                "WF_CXL1_CNTR_TEMP_C_2 $bus % 15 * 10 + 2",
+                "WF_CXL2_CNTR_TEMP_C_3 $bus % 15 * 10 + 2"
+            ],
+            "Name": "PID_WF_CXL $bus % 15 * 10 + 2",
+            "NegativeHysteresis": 3.0,
+            "OutLimitMax": 100,
+            "OutLimitMin": 0,
+            "PCoefficient": -3.0,
+            "PositiveHysteresis": 0.0,
+            "SetPoint": 70.0,
+            "SlewNeg": 0.0,
+            "SlewPos": 0.0,
+            "Type": "Pid",
+            "Zones": [
+                "Zone 1"
+            ]
+        },
+        {
+            "Class": "temp",
+            "Inputs": [
+                "WF_1OU_BOARD_INLET_TEMP_C_1 $bus % 15 * 10 + 2",
+                "WF_VR_P0V8_ASIC1_TEMP_C_4 $bus % 15 * 10 + 2",
+                "WF_VR_PVDDQ_CD_ASIC1_TEMP_C_5 $bus % 15 * 10 + 2",
+                "WF_VR_P0V85_ASIC1_TEMP_C_6 $bus % 15 * 10 + 2",
+                "WF_VR_PVDDQ_AB_ASIC1_TEMP_C_7 $bus % 15 * 10 + 2",
+                "WF_VR_P0V8_ASIC2_TEMP_C_8 $bus % 15 * 10 + 2",
+                "WF_VR_PVDDQ_CD_ASIC2_TEMP_C_9 $bus % 15 * 10 + 2",
+                "WF_VR_P0V85_ASIC2_TEMP_C_10 $bus % 15 * 10 + 2",
+                "WF_VR_PVDDQ_AB_ASIC2_TEMP_C_11 $bus % 15 * 10 + 2"
+            ],
+            "Name": "WF_Non_Critical_Sensors $bus % 15 * 10 + 2",
+            "NegativeHysteresis": 0,
+            "Output": [
+                20.0
+            ],
+            "PositiveHysteresis": 0,
+            "Reading": [
+                20.0
+            ],
+            "Type": "Stepwise",
+            "Zones": [
+                "Zone 1"
+            ]
+        },
+        {
+            "Class": "temp",
+            "Inputs": [
+                "WF_ASIC1_DIMM_A_TEMP_C_12 $bus % 15 * 10 + 2",
+                "WF_ASIC1_DIMM_B_TEMP_C_13 $bus % 15 * 10 + 2",
+                "WF_ASIC1_DIMM_C_TEMP_C_14 $bus % 15 * 10 + 2",
+                "WF_ASIC1_DIMM_D_TEMP_C_15 $bus % 15 * 10 + 2",
+                "WF_ASIC2_DIMM_A_TEMP_C_16 $bus % 15 * 10 + 2",
+                "WF_ASIC2_DIMM_B_TEMP_C_17 $bus % 15 * 10 + 2",
+                "WF_ASIC2_DIMM_C_TEMP_C_18 $bus % 15 * 10 + 2",
+                "WF_ASIC2_DIMM_D_TEMP_C_19 $bus % 15 * 10 + 2"
+            ],
+            "Name": "Stepwise_WF_DIMM $bus % 15 * 10 + 2",
+            "NegativeHysteresis": 2,
+            "Output": [
+                20.0,
+                22.0,
+                24.0,
+                26.0,
+                28.0,
+                30.0
+            ],
+            "PositiveHysteresis": 0,
+            "Reading": [
+                65.0,
+                66.0,
+                67.0,
+                68.0,
+                69.0,
+                70.0
+            ],
+            "Type": "Stepwise",
+            "Zones": [
+                "Zone 1"
+            ]
+        },
+        {
+            "Class": "temp",
+            "Inputs": [
+                "WF_E1S_TEMP_C_20 $bus % 15 * 10 + 2"
+            ],
+            "Name": "Stepwise_WF_E1S $bus % 15 * 10 + 2",
+            "NegativeHysteresis": 2,
+            "Output": [
+                20.0,
+                22.0,
+                24.0,
+                26.0,
+                28.0,
+                30.0
+            ],
+            "PositiveHysteresis": 0,
+            "Reading": [
+                58.0,
+                59.0,
+                60.0,
+                61.0,
+                62.0,
+                63.0
+            ],
+            "Type": "Stepwise",
+            "Zones": [
+                "Zone 1"
+            ]
+        },
+        {
+            "Class": "temp",
+            "Inputs": [
+                "WF_CXL1_CNTR_TEMP_C_2 $bus % 15 * 10 + 2",
+                "WF_CXL2_CNTR_TEMP_C_3 $bus % 15 * 10 + 2"
+            ],
+            "Name": "Stepwise_WF_CXL $bus % 15 * 10 + 2",
+            "NegativeHysteresis": 2,
+            "Output": [
+                20.0,
+                22.0,
+                24.0,
+                26.0,
+                28.0,
+                30.0
+            ],
+            "PositiveHysteresis": 0,
+            "Reading": [
+                60.0,
+                61.0,
+                62.0,
+                63.0,
+                64.0,
+                65.0
+            ],
+            "Type": "Stepwise",
+            "Zones": [
+                "Zone 1"
+            ]
         }
     ],
     "Name": "Yosemite 4 Wailua Falls Slot $bus % 15",
-- 
2.25.1

